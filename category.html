<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Kategori</title>

<style>
body{font-family:Arial;margin:0;background:#fff1f6}
.wrap{max-width:1100px;margin:auto;padding:20px}
.grid{display:grid;grid-template-columns:repeat(3,1fr);gap:14px}
.card{background:#fff;border-radius:14px;padding:10px;border:1px solid #eee}
.img{width:100%;height:180px;object-fit:cover;background:#eee}
</style>
</head>

<body>
<div class="wrap">
  <h2 id="title"></h2>
  <div id="grid" class="grid"></div>
</div>

<script>
// URL'den gelen key: cam, difuzor, kolcak...
const params = new URLSearchParams(location.search);
const key = (params.get("category") || "").toLowerCase();

// key → gerçek kategori adı
const map = {
  cam:"Cam Rüzgarlığı",
  difuzor:"Difüzör",
  kolcak:"Kolçak",
  krom:"Krom Ürünler",
  kaput:"Ön Kaput",
  paspas:"Paspas",
  koltuk:"Koltuk Kılıfı",
  marspiyel:"Marşpiyel",
  tavan:"Tavan",
  ayna:"Ayna",
  jant:"Jant",
  tozluk:"Tozluk",
  telefon:"Telefon Tutucu"
};

const kategoriAdi = map[key] || key;
document.getElementById("title").textContent = kategoriAdi;

fetch("products.json")
.then(r=>r.json())
.then(products=>{
  const grid=document.getElementById("grid");

  const list = products.filter(p =>
    String(p.kategori || "").toLowerCase() === kategoriAdi.toLowerCase()
  );

  if(!list.length){
    grid.innerHTML = "<p>Bu kategoride ürün bulunamadı.</p>";
    return;
  }

  grid.innerHTML = list.map(p=>`
    <div class="card">
      <a href="urun.html?id=${p.id}">
        <img class="img" src="images/${p.resim}">
        <h3>${p.ad}</h3>
        <p>${p.fiyat} TL</p>
      </a>
    </div>
  `).join("");
});
</script>

</body>
</html>
